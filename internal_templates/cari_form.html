{% extends 'base.html' %}

{% block content %}
<div class="max-w-3xl mx-auto">
    <div class="mb-8 flex items-center gap-4">
        <a href="/cari"
            class="size-10 flex items-center justify-center rounded-xl bg-white text-slate-400 hover:text-primary transition-all shadow-sm border border-slate-100">
            <span class="material-symbols-outlined">arrow_back</span>
        </a>
        <h1 class="text-3xl font-bold text-slate-900 tracking-tight">
            {{ 'Cari Düzenle' if cari else 'Yeni Cari Ekle' }}
        </h1>
    </div>

    <div class="bg-white rounded-3xl shadow-xl shadow-slate-200/50 border border-slate-100 overflow-hidden">
        <form method="POST" class="p-8 space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="flex flex-col gap-2 md:col-span-2">
                    <label class="text-xs font-bold text-slate-500 uppercase tracking-wider">Unvan / Firma Adı</label>
                    <input type="text" name="unvan" required
                        class="w-full h-12 rounded-xl bg-slate-50 border border-slate-200 px-4 text-sm font-medium focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all"
                        placeholder="Firma tam unvanı..." value="{{ cari.Unvan if cari else '' }}">
                </div>

                <div class="flex flex-col gap-2">
                    <label class="text-xs font-bold text-slate-500 uppercase tracking-wider">Cari Tipi</label>
                    <select name="cari_tipi" required
                        class="w-full h-12 rounded-xl bg-slate-50 border border-slate-200 px-4 text-sm font-medium focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all">
                        <option value="Müşteri" {% if cari and cari.CariTipi=='Müşteri' %}selected{% endif %}>Müşteri
                        </option>
                        <option value="Tedarikçi" {% if cari and cari.CariTipi=='Tedarikçi' %}selected{% endif %}>
                            Tedarikçi</option>
                        <option value="Her İkisi" {% if cari and cari.CariTipi=='Her İkisi' %}selected{% endif %}>Her
                            İkisi</option>
                    </select>
                </div>

                <div class="flex flex-col gap-2">
                    <label class="text-xs font-bold text-slate-500 uppercase tracking-wider">Telefon</label>
                    <input type="tel" name="phone"
                        class="w-full h-12 rounded-xl bg-slate-50 border border-slate-200 px-4 text-sm font-medium focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all"
                        placeholder="05XX XXX XX XX" value="{{ cari.Telefon if cari else '' }}">
                </div>

                <div class="flex flex-col gap-2">
                    <label class="text-xs font-bold text-slate-500 uppercase tracking-wider">Vergi Dairesi</label>
                    <input type="text" name="vergi_dairesi"
                        class="w-full h-12 rounded-xl bg-slate-50 border border-slate-200 px-4 text-sm font-medium focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all"
                        placeholder="Vergi Dairesi..." value="{{ cari.VergiDairesi if cari else '' }}">
                </div>

                <div class="flex flex-col gap-2">
                    <label class="text-xs font-bold text-slate-500 uppercase tracking-wider">Vergi No / TC</label>
                    <input type="text" name="vergi_no"
                        class="w-full h-12 rounded-xl bg-slate-50 border border-slate-200 px-4 text-sm font-medium focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all"
                        placeholder="1234567890" value="{{ cari.VergiNo if cari else '' }}">
                </div>

                <div class="flex flex-col gap-2 md:col-span-2">
                    <label class="text-xs font-bold text-slate-500 uppercase tracking-wider">E-posta</label>
                    <input type="email" name="email"
                        class="w-full h-12 rounded-xl bg-slate-50 border border-slate-200 px-4 text-sm font-medium focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all"
                        placeholder="bilgi@firma.com" value="{{ cari.Email if cari else '' }}">
                </div>

                <div class="flex flex-col gap-2 md:col-span-2">
                    <label class="text-xs font-bold text-slate-500 uppercase tracking-wider">Adres</label>
                    <textarea name="address" rows="3"
                        class="w-full rounded-xl bg-slate-50 border border-slate-200 p-4 text-sm font-medium focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-all"
                        placeholder="Firma adresi...">{{ cari.Adres if cari else '' }}</textarea>
                </div>
            </div>

            <div class="pt-6 border-t border-slate-100 flex gap-3">
                <a href="/cari"
                    class="flex-1 h-12 flex items-center justify-center rounded-xl border border-slate-200 text-slate-600 font-bold hover:bg-slate-50 transition-all">
                    İptal
                </a>
                <button type="submit"
                    class="flex-[2] h-12 rounded-xl bg-primary text-white font-bold hover:bg-blue-700 transition shadow-lg shadow-primary/20">
                    {{ 'Değişiklikleri Kaydet' if cari else 'Cari Hesabı Kaydet' }}
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}